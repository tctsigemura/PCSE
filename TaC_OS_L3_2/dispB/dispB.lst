*** 定数 ***

*** BSSセグメント ***
0000          	_MEM	DS	1
0000          	.window	DS	1

*** ヘッダ ***
magic = 0107
text  = 01b8
data  = 000a
bss   = 0002
syms  = 0062
entry = 0000
trsize= 0084
drsize= 0004

*** TEXTセグメント ***
0000 c0c0     	_createWinB	PUSH	FP
0001 0ccd     		LD	FP,SP
0002 c060     		PUSH	G6
0003 c070     		PUSH	G7
0004 081f 004f		LD	G1,#79
0006 c010     		PUSH	G1
0007 081f 0008		LD	G1,#8
0009 c010     		PUSH	G1
000a 4411     		XOR	G1,G1
000b c010     		PUSH	G1
000c 081f 0011		LD	G1,#17
000e c010     		PUSH	G1
000f a000 0000		CALL	_newWin
0011 18df 0004		ADD	SP,#4
0013 1000 0000		ST	G0,.window
0015 0810 0000		LD	G1,.window
0017 c010     		PUSH	G1
0018 a000 0000		CALL	_wClear
001a 18df 0001		ADD	SP,#1
001c 4466     		XOR	G6,G6
001d          	.L3
001d 286f 0004		CMP	G6,#4
001f 9500 0044		JGE	.L4
0021 0820 01c1		LD	G2,.xi
0023 1c26     		ADD	G2,G6
0024 0812 0000		LD	G1,0,G2
0026 c010     		PUSH	G1
0027 0820 01bc		LD	G2,.yi
0029 1c26     		ADD	G2,G6
002a 0812 0000		LD	G1,0,G2
002c c010     		PUSH	G1
002d 0810 0000		LD	G1,.window
002f c010     		PUSH	G1
0030 a000 0000		CALL	_wMove
0032 18df 0003		ADD	SP,#3
0034 081f 002b		LD	G1,#43
0036 c010     		PUSH	G1
0037 0810 0000		LD	G1,.window
0039 c010     		PUSH	G1
003a a000 0000		CALL	_wPutc
003c 18df 0002		ADD	SP,#2
003e 0c26     		LD	G2,G6
003f 182f 0001		ADD	G2,#1
0041 0c62     		LD	G6,G2
0042 9f00 001d		JMP	.L3
0044          	.L4
0044 086f 0001		LD	G6,#1
0046          	.L5
0046 286f 0003		CMP	G6,#3
0048 9500 0076		JGE	.L6
004a 087f 0001		LD	G7,#1
004c          	.L7
004c 287f 004e		CMP	G7,#78
004e 9500 0070		JGE	.L8
0050 c070     		PUSH	G7
0051 0820 01bc		LD	G2,.yi
0053 1c26     		ADD	G2,G6
0054 0822 0000		LD	G2,0,G2
0056 182f ffff		ADD	G2,#65535
0058 c020     		PUSH	G2
0059 0810 0000		LD	G1,.window
005b c010     		PUSH	G1
005c a000 0000		CALL	_wMove
005e 18df 0003		ADD	SP,#3
0060 081f 002d		LD	G1,#45
0062 c010     		PUSH	G1
0063 0810 0000		LD	G1,.window
0065 c010     		PUSH	G1
0066 a000 0000		CALL	_wPutc
0068 18df 0002		ADD	SP,#2
006a 0c27     		LD	G2,G7
006b 182f 0001		ADD	G2,#1
006d 0c72     		LD	G7,G2
006e 9f00 004c		JMP	.L7
0070          	.L8
0070 0c26     		LD	G2,G6
0071 182f 0001		ADD	G2,#1
0073 0c62     		LD	G6,G2
0074 9f00 0046		JMP	.L5
0076          	.L6
0076 4466     		XOR	G6,G6
0077          	.L9
0077 286f 0002		CMP	G6,#2
0079 9500 00a5		JGE	.L10
007b 087f 0001		LD	G7,#1
007d          	.L11
007d 287f 0007		CMP	G7,#7
007f 9500 009f		JGE	.L12
0081 0820 01c1		LD	G2,.xi
0083 1c26     		ADD	G2,G6
0084 0812 0000		LD	G1,0,G2
0086 c010     		PUSH	G1
0087 c070     		PUSH	G7
0088 0810 0000		LD	G1,.window
008a c010     		PUSH	G1
008b a000 0000		CALL	_wMove
008d 18df 0003		ADD	SP,#3
008f 081f 007c		LD	G1,#124
0091 c010     		PUSH	G1
0092 0810 0000		LD	G1,.window
0094 c010     		PUSH	G1
0095 a000 0000		CALL	_wPutc
0097 18df 0002		ADD	SP,#2
0099 0c27     		LD	G2,G7
009a 182f 0001		ADD	G2,#1
009c 0c72     		LD	G7,G2
009d 9f00 007d		JMP	.L11
009f          	.L12
009f 0c26     		LD	G2,G6
00a0 182f 0001		ADD	G2,#1
00a2 0c62     		LD	G6,G2
00a3 9f00 0077		JMP	.L9
00a5          	.L10
00a5 c470     		POP	G7
00a6 c460     		POP	G6
00a7 c4c0     		POP	FP
00a8 d000     		RET
00a9 c0c0     	_showRndMode	PUSH	FP
00aa 0ccd     		LD	FP,SP
00ab c060     		PUSH	G6
00ac 081f 0001		LD	G1,#1
00ae c010     		PUSH	G1
00af 081f 0001		LD	G1,#1
00b1 c010     		PUSH	G1
00b2 0810 0000		LD	G1,.window
00b4 c010     		PUSH	G1
00b5 a000 0000		CALL	_wMove
00b7 18df 0003		ADD	SP,#3
00b9 081c 0002		LD	G1,2,FP
00bb 281f 0000		CMP	G1,#0
00bd 9000 00c3		JZ	.L16
00bf 086f 0167		LD	G6,#.L13
00c1 9f00 00c5		JMP	.L15
00c3          	.L16
00c3 086f 0174		LD	G6,#.L14
00c5          	.L15
00c5 c060     		PUSH	G6
00c6 0810 0000		LD	G1,.window
00c8 c010     		PUSH	G1
00c9 a000 0000		CALL	_wPuts
00cb 18df 0002		ADD	SP,#2
00cd c460     		POP	G6
00ce c4c0     		POP	FP
00cf d000     		RET
00d0 c0c0     	_showLockMode	PUSH	FP
00d1 0ccd     		LD	FP,SP
00d2 c060     		PUSH	G6
00d3 081f 0001		LD	G1,#1
00d5 c010     		PUSH	G1
00d6 081f 0002		LD	G1,#2
00d8 c010     		PUSH	G1
00d9 0810 0000		LD	G1,.window
00db c010     		PUSH	G1
00dc a000 0000		CALL	_wMove
00de 18df 0003		ADD	SP,#3
00e0 081c 0002		LD	G1,2,FP
00e2 281f 0000		CMP	G1,#0
00e4 9000 00ea		JZ	.L20
00e6 086f 0181		LD	G6,#.L17
00e8 9f00 00ec		JMP	.L19
00ea          	.L20
00ea 086f 018e		LD	G6,#.L18
00ec          	.L19
00ec c060     		PUSH	G6
00ed 0810 0000		LD	G1,.window
00ef c010     		PUSH	G1
00f0 a000 0000		CALL	_wPuts
00f2 18df 0002		ADD	SP,#2
00f4 c460     		POP	G6
00f5 c4c0     		POP	FP
00f6 d000     		RET
00f7 c0c0     	_showKeybind	PUSH	FP
00f8 0ccd     		LD	FP,SP
00f9 c060     		PUSH	G6
00fa c070     		PUSH	G7
00fb c080     		PUSH	G8
00fc c090     		PUSH	G9
00fd 081f 0001		LD	G1,#1
00ff c010     		PUSH	G1
0100 081f 0004		LD	G1,#4
0102 c010     		PUSH	G1
0103 0810 0000		LD	G1,.window
0105 c010     		PUSH	G1
0106 a000 0000		CALL	_wMove
0108 18df 0003		ADD	SP,#3
010a 081c 0002		LD	G1,2,FP
010c c010     		PUSH	G1
010d 4411     		XOR	G1,G1
010e c010     		PUSH	G1
010f a000 0000		CALL	_open
0111 18df 0002		ADD	SP,#2
0113 0c60     		LD	G6,G0
0114 286f 0000		CMP	G6,#0
0116 9500 0124		JGE	.L24
0118 081f 019b		LD	G1,#.L21
011a c010     		PUSH	G1
011b 0810 0000		LD	G1,.window
011d c010     		PUSH	G1
011e a000 0000		CALL	_wPrintf
0120 18df 0002		ADD	SP,#2
0122 9f00 015c		JMP	.L23
0124          	.L24
0124 081f 0100		LD	G1,#256
0126 c010     		PUSH	G1
0127 a000 0000		CALL	_malloc
0129 18df 0001		ADD	SP,#1
012b 0c70     		LD	G7,G0
012c          	.L25
012c 081f 0200		LD	G1,#512
012e c010     		PUSH	G1
012f c070     		PUSH	G7
0130 c060     		PUSH	G6
0131 a000 0000		CALL	_read
0133 18df 0003		ADD	SP,#3
0135 0c80     		LD	G8,G0
0136 288f 0000		CMP	G8,#0
0138 9600 0157		JLE	.L26
013a 4499     		XOR	G9,G9
013b          	.L27
013b 2c98     		CMP	G9,G8
013c 9500 0155		JGE	.L28
013e c090     		PUSH	G9
013f c070     		PUSH	G7
0140 a000 0000		CALL	_byte
0142 18df 0002		ADD	SP,#2
0144 c000     		PUSH	G0
0145 081f 01b5		LD	G1,#.L22
0147 c010     		PUSH	G1
0148 0810 0000		LD	G1,.window
014a c010     		PUSH	G1
014b a000 0000		CALL	_wPrintf
014d 18df 0003		ADD	SP,#3
014f 0c29     		LD	G2,G9
0150 182f 0001		ADD	G2,#1
0152 0c92     		LD	G9,G2
0153 9f00 013b		JMP	.L27
0155          	.L28
0155 9f00 012c		JMP	.L25
0157          	.L26
0157 c070     		PUSH	G7
0158 a000 0000		CALL	_free
015a 18df 0001		ADD	SP,#1
015c          	.L23
015c c060     		PUSH	G6
015d a000 0000		CALL	_close
015f 18df 0001		ADD	SP,#1
0161 c490     		POP	G9
0162 c480     		POP	G8
0163 c470     		POP	G7
0164 c460     		POP	G6
0165 c4c0     		POP	FP
0166 d000     		RET
0167 0052 0041	.L13	STRING	"RANDOM : ON "
0169 004e 0044
016b 004f 004d
016d 0020 003a
016f 0020 004f
0171 004e 0020
0173 0000
0174 0052 0041	.L14	STRING	"RANDOM : OFF"
0176 004e 0044
0178 004f 004d
017a 0020 003a
017c 0020 004f
017e 0046 0046
0180 0000
0181 004c 004f	.L17	STRING	"LOCK   : ON "
0183 0043 004b
0185 0020 0020
0187 0020 003a
0189 0020 004f
018b 004e 0020
018d 0000
018e 004c 004f	.L18	STRING	"LOCK   : OFF"
0190 0043 004b
0192 0020 0020
0194 0020 003a
0196 0020 004f
0198 0046 0046
019a 0000
019b 0043 0061	.L21	STRING	"Can't open File:help.txt\n"
019d 006e 0027
019f 0074 0020
01a1 006f 0070
01a3 0065 006e
01a5 0020 0046
01a7 0069 006c
01a9 0065 003a
01ab 0068 0065
01ad 006c 0070
01af 002e 0074
01b1 0078 0074
01b3 000a 0000
01b5 0025 0063	.L22	STRING	"%c"
01b7 0000

*** DATAセグメント ***
01b8 0000     	.L1	DC	0
01b9 0000     		DC	0
01ba 0008     		DC	8
01bb 0008     		DC	8
01bc 01b8     	.yi	DC	.L1
01bd 0000     	.L2	DC	0
01be 004f     		DC	79
01bf 0000     		DC	0
01c0 004f     		DC	79
01c1 01bd     	.xi	DC	.L2

*** 再配置表 ***
TR領域
Addr	Name	Type	No.
0010	_newWin	UNDF	  6
0014	.window	BSS	  7
0016	.window	BSS	  7
0019	_wClear	UNDF	  8
0020	.L4	TEXT	 10
0022	.xi	DATA	  4
0028	.yi	DATA	  2
002e	.window	BSS	  7
0031	_wMove	UNDF	 11
0038	.window	BSS	  7
003b	_wPutc	UNDF	 12
0043	.L3	TEXT	  9
0049	.L6	TEXT	 14
004f	.L8	TEXT	 16
0052	.yi	DATA	  2
005a	.window	BSS	  7
005d	_wMove	UNDF	 11
0064	.window	BSS	  7
0067	_wPutc	UNDF	 12
006f	.L7	TEXT	 15
0075	.L5	TEXT	 13
007a	.L10	TEXT	 18
0080	.L12	TEXT	 20
0082	.xi	DATA	  4
0089	.window	BSS	  7
008c	_wMove	UNDF	 11
0093	.window	BSS	  7
0096	_wPutc	UNDF	 12
009e	.L11	TEXT	 19
00a4	.L9	TEXT	 17
00b3	.window	BSS	  7
00b6	_wMove	UNDF	 11
00be	.L16	TEXT	 24
00c0	.L13	TEXT	 21
00c2	.L15	TEXT	 25
00c4	.L14	TEXT	 22
00c7	.window	BSS	  7
00ca	_wPuts	UNDF	 26
00da	.window	BSS	  7
00dd	_wMove	UNDF	 11
00e5	.L20	TEXT	 30
00e7	.L17	TEXT	 27
00e9	.L19	TEXT	 31
00eb	.L18	TEXT	 28
00ee	.window	BSS	  7
00f1	_wPuts	UNDF	 26
0104	.window	BSS	  7
0107	_wMove	UNDF	 11
0110	_open	UNDF	 35
0117	.L24	TEXT	 36
0119	.L21	TEXT	 32
011c	.window	BSS	  7
011f	_wPrintf	UNDF	 37
0123	.L23	TEXT	 38
0128	_malloc	UNDF	 39
0132	_read	UNDF	 41
0139	.L26	TEXT	 42
013d	.L28	TEXT	 44
0141	_byte	UNDF	 45
0146	.L22	TEXT	 33
0149	.window	BSS	  7
014c	_wPrintf	UNDF	 37
0154	.L27	TEXT	 43
0156	.L25	TEXT	 40
0159	_free	UNDF	 46
015e	_close	UNDF	 47

DR領域
Addr	Name	Type	No.
0004	.L1	DATA	  1
0009	.L2	DATA	  3

*** 名前表 ***
No.	Name	Type	Value	Offset
0	@dispB.s	TEXT	0000	0000
1	.L1	DATA	0000	0009
2	.yi	DATA	0004	000d
3	.L2	DATA	0005	0011
4	.xi	DATA	0009	0015
5	_createWinB	TEXT	0000	0019
6	_newWin	UNDF	0000	0025
7	.window	BSS	0001	002d
8	_wClear	UNDF	0000	0035
9	.L3	TEXT	001d	003d
10	.L4	TEXT	0044	0041
11	_wMove	UNDF	0000	0045
12	_wPutc	UNDF	0000	004c
13	.L5	TEXT	0046	0053
14	.L6	TEXT	0076	0057
15	.L7	TEXT	004c	005b
16	.L8	TEXT	0070	005f
17	.L9	TEXT	0077	0063
18	.L10	TEXT	00a5	0067
19	.L11	TEXT	007d	006c
20	.L12	TEXT	009f	0071
21	.L13	TEXT	0167	0076
22	.L14	TEXT	0174	007b
23	_showRndMode	TEXT	00a9	0080
24	.L16	TEXT	00c3	008d
25	.L15	TEXT	00c5	0092
26	_wPuts	UNDF	0000	0097
27	.L17	TEXT	0181	009e
28	.L18	TEXT	018e	00a3
29	_showLockMode	TEXT	00d0	00a8
30	.L20	TEXT	00ea	00b6
31	.L19	TEXT	00ec	00bb
32	.L21	TEXT	019b	00c0
33	.L22	TEXT	01b5	00c5
34	_showKeybind	TEXT	00f7	00ca
35	_open	UNDF	0000	00d7
36	.L24	TEXT	0124	00dd
37	_wPrintf	UNDF	0000	00e2
38	.L23	TEXT	015c	00eb
39	_malloc	UNDF	0000	00f0
40	.L25	TEXT	012c	00f8
41	_read	UNDF	0000	00fd
42	.L26	TEXT	0157	0103
43	.L27	TEXT	013b	0108
44	.L28	TEXT	0155	010d
45	_byte	UNDF	0000	0112
46	_free	UNDF	0000	0118
47	_close	UNDF	0000	011e
48	_MEM	BSS	0001	0125

*** 文字列表 ***
Offset	String
0000	@dispB.s
0009	.L1
000d	.yi
0011	.L2
0015	.xi
0019	_createWinB
0025	_newWin
002d	.window
0035	_wClear
003d	.L3
0041	.L4
0045	_wMove
004c	_wPutc
0053	.L5
0057	.L6
005b	.L7
005f	.L8
0063	.L9
0067	.L10
006c	.L11
0071	.L12
0076	.L13
007b	.L14
0080	_showRndMode
008d	.L16
0092	.L15
0097	_wPuts
009e	.L17
00a3	.L18
00a8	_showLockMode
00b6	.L20
00bb	.L19
00c0	.L21
00c5	.L22
00ca	_showKeybind
00d7	_open
00dd	.L24
00e2	_wPrintf
00eb	.L23
00f0	_malloc
00f8	.L25
00fd	_read
0103	.L26
0108	.L27
010d	.L28
0112	_byte
0118	_free
011e	_close
0125	_MEM
