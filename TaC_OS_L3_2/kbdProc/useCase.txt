「キーボード押下の文字コード表示」 装置を作る


ユースケース記述

ユースケース名	 押されたキーに対応する文字コードを表示する。

概要		 ユーザが押したキーの文字コードを表示する。

アクター	 ユーザ

目的		 ユーザはキーの文字コードを画面で確認したい。


事前条件	 これまでに表示された文字コードが画面表示されている。


事後条件	 新しい文字コードが画面表示に追加されている。


基本系列	 1. アクターが、キーを操作して、このユースケースを起動する。
		 2. システムは、キーのスキャンコードをハードから取得する。
		 3. システムは、スキャンコードから文字コードに変換する。
		 4. システムは、文字コードを１６進数で画面に表示する。


代替系列	 A. 基本系列 2.〜 においてシフトキーが操作された場合は、
		    シフト状態の変化を記録して終了する。
		 B. 基本系列 2.〜 において、キーが離された場合は無視する。


備考		 キーが押されたことは割込みによりシステムに伝えられる。
		 キーが離されたことも割込みによりシステムに伝えられる。
		 スキャンコードの取り出し時点で基本系列 2.、3. の処理をする。
		 スキャンコードが２バイトになるキーは無視する。


シナリオ	 1. 'A' キーが押された。
		    システムはスキャンコード(1CH)をハードから取得する。
		    システムは左右どちらのシフトキーが押されていなかったので
		      'a'の文字コード(61H)に変換する。
		    システムは画面に '61 ' と表示する。

		 2. 'A' キーが離された。
		    システムはキー離されたことを認識する。
		    離された場合はそれ以上何もしない。

		 3. 左 'SHIFT' キーが押された。
		    システムはスキャンコード(12H)をハードから取得する。
		    システムは左シフトキーの状態変化を記録する。

		 4. 左'SHIFT' キーが離された。
		    システムはキー離されたことを認識する。
		    システムは左シフトキーの状態変化を記録する。

		 5. 'A' キーが押された。
		    システムはスキャンコード(1CH)をハードから取得する。
		    システムは左右どちらかのシフトキーが押されていたので
		      'A'の文字コード(41H)に変換する。
		    システムは画面に '41 ' と表示する。

